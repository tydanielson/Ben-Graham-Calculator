<!DOCTYPE html>
<html lang="en" ng-app="wsi">
<head>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">
    <link rel="stylesheet" href="bgcalc.css">
  

  <meta name="viewport" content="initial-scale=1" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47259632-1', 'auto');
  ga('send', 'pageview');
    </script>
</head>
<body class="md-padding" style="font-family:Open sans;">


<md-content class="md-padding" ng-controller="WsiCtrl">

<h1>WSI Stock Selector</h1>
<h2>A Calulator of sorts</h2>
<div layout="column">
    <div layout="row">
        <ng-form name="benForm">
            <md-input-container>
              <label>Stock Ticker</label>
              <input type="text" ng-model="ben.ticker" name="ticker" required>
            </md-input-container>
        </ng-form>
    </div>

    <div layout="row">
        <md-button class="md-raised md-primary" ng-click="getCompanyData()" ng-disabled="benForm.ticker.$invalid">Get Ticker Data</md-button>
    </div>
    

    <div layout="row">
        <div layout="column" flex="50">
            {{quote.Name}} 
        </div>
        <div layout="column" flex="50">
            {{quote.LastTradePrice | currency}}
        </div>
    </div>

    <div layout="row">
        <hr width="100%" />
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Market Cap
        </div>
        <div layout="column" flex="50">
            {{quote.MarketCapitalization}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Annual Revenue (M)
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isRevenueValid(), 'invalid':!isRevenueValid()}">
            {{ratios.revenue*100000 | currency:"$":0}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Current Ratio*
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isCurrentRatioValid(), 'invalid':!isCurrentRatioValid()}">
            {{ratios.currentRatio}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Long-term Debt Coverage Ratio*
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isLongTermDebtCoverageRatioValid(), 'invalid':!isLongTermDebtCoverageRatioValid()}">
            {{ratios.longTermDebtCoverageRatio | number:2}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            P/E
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isPeRatioValid(), 'invalid':!isPeRatioValid()}">
            {{quote.PeRatio}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Book Value/Share
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isPriceToBookValid(), 'invalid':!isPriceToBookValid()}">
            {{quote.priceToBook | number:2}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Years of dividend
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isDividendTotalValid(), 'invalid':!isDividendTotalValid()}">
            {{ratios.dividendTotal}}
        </div>
    </div>
<!-- 
    <div layout="row">
        <div layout="column" flex="50">
            Dividend Annual Total $
        </div>
        <div layout="column" flex="50">
            {{ratios.dividend}}
        </div>
    </div> -->

    <div layout="row">
        <div layout="column" flex="50">
            10yr. Average Revenue
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isRevenueTenYrValid(), 'invalid':!isRevenueTenYrValid()}">
            {{ratios.revenuetenyr}}
        </div>
    </div>

    <div layout="row">
        <div layout="column" flex="50">
            Years of positive income
        </div>
        <div layout="column" flex="50" ng-class="{'valid':isNetIncomeValid(), 'invalid':!isNetIncomeValid()}">
            {{ratios.netincome}}
        </div>
    </div>

    <div layout="row">
        <hr width="100%" />
    </div>

    <sub>
        *Half point
    </sub>

    <div layout="row">
        Total Points = {{totalpts}}
    </div>

    <div layout="row">
        <hr width="100%" />
    </div>
    
    <div layout="row" ng-show="history.length > 0">
        <div layout="column">
            <h3>History - alpha</h3>
            <div ng-repeat="each in history">   
                {{each.company}} - {{each.score}} / 7
            </div>
        </div>
    </div>

</div>
</md-content>

<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Angular Material Dependencies -->
<script src="bower_components/angular/angular.min.js"></script>
<script src="bower_components/angular-animate/angular-animate.min.js"></script>
<script src="bower_components/angular-aria/angular-aria.min.js"></script>
<script src="bower_components/angular-messages/angular-messages.min.js"></script>
<script src="bower_components/angular-material/angular-material.min.js"></script>

<script src="app.js"></script>

</body>
</html>